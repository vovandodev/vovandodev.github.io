<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Clouds, Virtualization and something more..."><meta name=Author content="Volodymyr Vrublevskyy"><meta name=keywords content="IT Talks"><link rel=stylesheet href=https://vovando.dev/css/syntax.css><link rel=stylesheet href=https://vovando.dev/css/style.css><script src=https://kit.fontawesome.com/1b7478c139.js crossorigin=anonymous></script><title>IT Talks</title></head><body><aside id=sidenav><header><a href=https://vovando.dev/><img src=https://vovando.dev/avatar.png alt=avatar></a>
<a id=branding href=https://vovando.dev/>IT Talks</a></header><nav><a href=/><i class="fas fa-home fa-sm"></i><span>whoami</span></a>
<a href=/posts><i class="fas fa-keyboard fa-ms"></i><span>blog</span></a>
<a href=/tags><i class="fas fa-tags fa-ms"></i><span>tags</span></a>
<a href=https://github.com/vovandodev target=_blank><i class="fab fa-github fa-ms"></i><span>github</span></a>
<a href=/index.xml><i class="fas fa-rss fa-ms"></i><span>RSS</span></a>
<a href=/contact><i class="far fa-envelope"></i><span>contact</span></a></nav></aside><main id=main><a href=javascript:void(0) id=closebtn onclick=navToggle()><i class="fas fa-bars fa-lg"></i></a><div class=content><h1 id=title>Configure SSL on Jetty</h1><nav id=TableOfContents></nav><p>Today we need to change ssl certificate on jetty. SSL Certificate issuer is Godaddy. Download certificate and unzip it. You have gd_ bundle and certificate for your server, also key file. </p><p>gd_bundle.crt<br>site-name.crt<br>site-name.key</p><p>We have a key and certificates in separate files and need to combine them into a PKCS12 format file to load into a new keystore.</p><p>#openssl pkcs12 -export  -chain -CAfile gd_bundle.crt -in site-name.crt -inkey site-name.key -out site-name.pkcs12</p><p>Enter key.If you receive error:</p><p>140112389822280:error:0D0680A8:asn1 encoding routines:ASN1_CHECK_TLEN:wrong tag:tasn_dec.c:1319:<br>140112389822280:error:0D07803A:asn1 encoding routines:ASN1_ITEM_EX_D2I:nested asn1 error:tasn_dec.c:381:Type=PKCS12</p><p>Check your command. You are forgetting the &lsquo;-export&rsquo; commandline parameter.</p><p>Download and execute: </p><p>#wget <a href=http://dist.codehaus.org/jetty/jetty-6.1.26/jetty-6.1.26.zip>http://dist.codehaus.org/jetty/jetty-6.1.26/jetty-6.1.26.zip</a><br>#unzip -j jetty-6.1.26.zip jetty-6.1.26/lib/jetty-6.1.26.jar<br>#java -cp jetty-6.1.26.jar org.mortbay.jetty.security.PKCS12Import site-name.pkcs12 keystore.jks</p><p>Enter key, than move your keystore.jks to ../jetty/etc/</p><p>Edit ../jetty/etc/jetty-https.xml</p><p><a href=http://noteits.net/wp-content/uploads/2015/04/jetty-https.jpg></a></p><p>If you want to obfuscate keystore password:</p><p>[root@server lib]# java -cp jetty-util-9.0.0.M1.jar org.eclipse.jetty.util.security.Password <strong>user</strong> <strong>qwerty  </strong></p><p>qwerty<br>OBF:1zef1zlu1vn61vnw1zlo1zev<br>MD5:d8578edf8458ce06fbc5bb76a58c5ca4<br>CRYPT:usK11VZXxNKiU<br>[root@server lib]#</p><p>(where username is user and password/key qwerty).</p><p>Insert your phrases with OBF into ../jetty/etc/jetty-https.xml</p><p><a href=http://noteits.net/wp-content/uploads/2015/04/OBF.jpg></a></p><p><strong>./jetty.sh restart</strong></p><p><strong>Work like a charm.</strong></p><div class=nav-next-prev><div class=nav-prev><a href=https://vovando.dev/2015/04/14/execute-bash-script-by-puppet/><i class="fas fa-chevron-left"></i></a></div><a class=nav-top href=#>top</i></a><div class=nav-next><a href=https://vovando.dev/2015/04/16/ga-of-veeam-endpoint-backup-free/><i class="fas fa-chevron-right"></i></a></div></div></div><footer><div class=footer-content><div class=contact-info><div class=footer-mail><i class="far fa-envelope"></i><a href=mailto:hello@vovando.dev>hello@vovando.dev</a></div><div class=footer-phone><i class="fas fa-phone"></i>7777</div></div><p class="copyright meta">Copyright © 2013–2020, all rights reserved.</p></div></footer></main></body><script src=https://vovando.dev/js/navbutton.js></script></html>