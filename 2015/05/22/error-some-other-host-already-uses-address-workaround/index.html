<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Clouds, Virtualization and something more..."><meta name=Author content="Volodymyr Vrublevskyy"><meta name=keywords content="IT Talks"><link rel=stylesheet href=https://vovando.dev/css/syntax.css><link rel=stylesheet href=https://vovando.dev/css/style.css><script src=https://kit.fontawesome.com/1b7478c139.js crossorigin=anonymous></script><title>IT Talks</title></head><body><aside id=sidenav><header><a href=https://vovando.dev/><img src=https://vovando.dev/avatar.png alt=avatar></a>
<a id=branding href=https://vovando.dev/>IT Talks</a></header><nav><a href=/><i class="fas fa-home fa-sm"></i><span>whoami</span></a>
<a href=/posts><i class="fas fa-keyboard fa-ms"></i><span>blog</span></a>
<a href=/tags><i class="fas fa-tags fa-ms"></i><span>tags</span></a>
<a href=https://github.com/vovandodev target=_blank><i class="fab fa-github fa-ms"></i><span>github</span></a>
<a href=/index.xml><i class="fas fa-rss fa-ms"></i><span>RSS</span></a>
<a href=/contact><i class="far fa-envelope"></i><span>contact</span></a></nav></aside><main id=main><a href=javascript:void(0) id=closebtn onclick=navToggle()><i class="fas fa-bars fa-lg"></i></a><div class=content><h1 id=title>Error, some other host already uses address. Workaround</h1><nav id=TableOfContents></nav><p>If you receive such message on your virtual machine, you have workaround to fix this problem.</p><p></p><p>To check ip and mac:</p><p>[root@demo devices]# <strong>arping -c 2 -w 3 -D -I eth9 XX.XX.XX.X</strong></p><p>ARPING XX.XX.XX.X from 0.0.0.0 eth9<br>Unicast reply from XX.XX.XX.XÂ Â  [00:50:56:xx:xx:xx:xx]Â  0.697ms<br>Sent 1 probes (1 broadcast(s))<br>Received 1 response(s)</p><p>Â </p><p>In the interface initialization script <strong><code>/etc/sysconfig/network-scripts/ifup-eth</code></strong> it has the following:</p><p>Â Â Â Â Â Â  if ! /sbin/arping -q -c 2 -w 3 -D -I ${REALDEVICE} ${ipaddr[$idx]} ; then<br>Â Â Â Â Â Â Â Â  net_log $&ldquo;Error, some other host already uses address ${ipaddr[$idx]}.&rdquo;<br>Â Â Â Â Â Â Â Â  exit 1<br>Â Â Â Â Â Â Â  fi</p><p>Letâ€™s break that first line down piece by piece:</p><ul><li><strong><code>if !</code></strong> â€“ The <code>if</code> command combined with a boolean operator that equates to the logical <em>not</em>. In other words, it inverts the exit status of the command.</li><li><strong><code>arping</code></strong> â€“ One of my favorite commands! Useful for manually issuing ARP requests to confirm ownership of an IP (DUH).</li><li><strong><code>-q</code></strong> â€“ Quiet/no output. Nothing is displayed.</li><li><strong><code>-c 2</code></strong> â€“ The number of ARP request packets to send.</li><li><strong><code>-w 3</code></strong> â€“ The amount of time (in seconds) to wait for a response.</li><li><strong><code>-D</code></strong> â€“ Duplicate address detection mode (for the gory details, see RFC2131, 4.4.1).</li><li><strong><code>-I ${REALDEVICE}</code></strong> â€“ The interface to issue the arp request from. I havenâ€™t dug deep enough to find where the variable is set (although I suspect itâ€™s a combination of the <code>DEVICE</code> variable defined in <code>ifcfg-eth</code> files and some logic under <code>/etc/sysconfig/network-scripts/network-functions</code></li><li><strong><code>${IPADDR}</code></strong> â€“ The IP address to check for.</li><li><strong><code>; then</code></strong> â€“ â€˜nuff said.</li></ul><p>Â </p><p>Just comment it:</p><p></p><p>And be happy ðŸ™‚</p><p></p><p><em>Stay tuned!</em></p><div class=nav-next-prev><div class=nav-prev><a href=https://vovando.dev/2015/05/21/convert-ppk-to-id_rsa-in-centos/><i class="fas fa-chevron-left"></i></a></div><a class=nav-top href=#>top</i></a><div class=nav-next><a href=https://vovando.dev/2015/06/04/how-to-receive-vmware-free-license-to-vmware-esxi/><i class="fas fa-chevron-right"></i></a></div></div></div><footer><div class=footer-content><div class=contact-info><div class=footer-mail><i class="far fa-envelope"></i><a href=mailto:hello@vovando.dev>hello@vovando.dev</a></div><div class=footer-phone><i class="fas fa-phone"></i>7777</div></div><p class="copyright meta">Copyright Â© 2013â€“2020, all rights reserved.</p></div></footer></main></body><script src=https://vovando.dev/js/navbutton.js></script></html>