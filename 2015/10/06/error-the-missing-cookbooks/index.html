<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Clouds, Virtualization and something more..."><meta name=Author content="Volodymyr Vrublevskyy"><meta name=keywords content="IT Talks"><link rel=stylesheet href=https://vovando.dev/css/syntax.css><link rel=stylesheet href=https://vovando.dev/css/style.css><script src=https://kit.fontawesome.com/1b7478c139.js crossorigin=anonymous></script><title>IT Talks</title></head><body><aside id=sidenav><header><a href=https://vovando.dev/><img src=https://vovando.dev/avatar.png alt=avatar></a>
<a id=branding href=https://vovando.dev/>IT Talks</a></header><nav><a href=/><i class="fas fa-home fa-sm"></i><span>whoami</span></a>
<a href=/posts><i class="fas fa-keyboard fa-ms"></i><span>blog</span></a>
<a href=/tags><i class="fas fa-tags fa-ms"></i><span>tags</span></a>
<a href=https://github.com/vovandodev target=_blank><i class="fab fa-github fa-ms"></i><span>github</span></a>
<a href=/index.xml><i class="fas fa-rss fa-ms"></i><span>RSS</span></a>
<a href=/contact><i class="far fa-envelope"></i><span>contact</span></a></nav></aside><main id=main><a href=javascript:void(0) id=closebtn onclick=navToggle()><i class="fas fa-bars fa-lg"></i></a><div class=content><h1 id=title>ERROR: The missing cookbook(s)</h1><nav id=TableOfContents><ul><li><a href=#berksfile>Berksfile</a></li><li><a href=#using-berkshelf>Using Berkshelf</a></li></ul></nav><p>If you received error uploading cookbook to chef server:</p><p>knife cookbook upload <strong>rundeck</strong><br>Uploading <strong>rundec</strong><br>ERROR: Cookbook <strong>rundeck</strong> depends on cookbooks which are not currently<br>ERROR: being uploaded and cannot be found on the server.<br>ERROR: The missing cookbook(s) are: &lsquo;java&rsquo; version &lsquo;>= 0.0.0&rsquo;, &lsquo;yum&rsquo; version &lsquo;>= 0.0.0&rsquo;, &lsquo;apt&rsquo; version &lsquo;>= 0.0.0&rsquo;, &lsquo;supervisor&rsquo; version &lsquo;>= 0.0.0&rsquo;, &lsquo;database&rsquo; version &lsquo;>= 0.0.0&rsquo;, &lsquo;mysql2_chef_gem&rsquo; version &lsquo;~> 1.0.2&rsquo;, &lsquo;mysqld&rsquo; version &lsquo;~> 1.0.3&rsquo;</p><p> </p><p>You need use berkshelf tool which bundled with the chefdk package.</p><p>It&rsquo;s really easy to use and worth learning. It&rsquo;s designed to work like the gem bundler tool.</p><p> </p><pre><code>└── myCookbook
    ├── &lt;strong&gt;Berksfile&lt;/strong&gt;       &lt;-- Berkshelf configuration file
    ├── Berksfile.lock  &lt;-- Lock file generated by Berkshelf
    ├── metadata.rb
    ├── README.md
    └── recipes
        └── default.rb
</code></pre><h2 id=berksfile>Berksfile</h2><p>source &lsquo;<a href=https://supermarket.chef.io>https://supermarket.chef.io</a>&rsquo;</p><p>metadata</p><h2 id=using-berkshelf>Using Berkshelf</h2><p>The &ldquo;install&rdquo; command will download the cookbook dependencies (Cached under ~/.berkshelf)</p><pre><code>#cd rundeck
# berks install
Resolving cookbook dependencies...
Fetching &amp;#39;rundeck&amp;#39; from source at .
Fetching cookbook index from https://supermarket.chef.io...
Installing apt (2.8.2)
Installing build-essential (2.2.3)
Installing chef-sugar (3.1.1)
Installing database (4.0.9)
Installing java (1.35.0)
Installing mariadb (0.3.1)
Installing mysql (6.1.2)
Installing mysql2_chef_gem (1.0.2)
Installing mysqld (1.0.3)
Installing openssl (4.4.0)
Installing postgresql (3.4.16)
Installing python (1.4.6)
Installing rbac (1.0.3)
Using rundeck from source at .
Installing smf (2.2.7)
Installing supervisor (0.4.12)
Installing yum (3.7.1)
Installing yum-epel (0.6.3)
Installing yum-mysql-community (0.1.18)
</code></pre><p> </p><p>Berkshelf can also upload all the cookbooks into your chef server: <code>$ berks upload</code></p><p># knife cookbook upload <strong>rundeck</strong> –include-dependencies<br>Uploading rundeck<br>Uploading java           [1.35.0]<br>Uploading yum            [3.7.1]<br>Uploading apt            [2.8.2]<br>Uploading supervisor     [0.4.12]<br>Uploading database       [4.0.9]<br>Uploading mysql2_chef_gem [1.0.2]<br>Uploading mysqld         [1.0.3]<br>Uploading python         [1.4.6]<br>Uploading postgresql     [3.4.16]<br>Uploading build-essential [2.2.3]<br>Uploading mysql          [6.1.2]<br>Uploading mariadb        [0.3.1]<br>Uploading yum-epel       [0.6.3]<br>Uploading openssl        [4.4.0]<br>Uploading yum-mysql-community [0.1.18]<br>Uploading smf            [2.2.7]<br>Uploading chef-sugar     [3.1.1]<br>Uploading rbac           [1.0.3]</p><div class=nav-next-prev><div class=nav-prev><a href=https://vovando.dev/2015/08/24/installing-workstation-for-managing-chef-server/><i class="fas fa-chevron-left"></i></a></div><a class=nav-top href=#>top</i></a><div class=nav-next><a href=https://vovando.dev/2015/10/13/configuring-cisco-on-mac-os-through-the-console-port/><i class="fas fa-chevron-right"></i></a></div></div></div><footer><div class=footer-content><div class=contact-info><div class=footer-mail><i class="far fa-envelope"></i><a href=mailto:hello@vovando.dev>hello@vovando.dev</a></div><div class=footer-phone><i class="fas fa-phone"></i>7777</div></div><p class="copyright meta">Copyright © 2013–2020, all rights reserved.</p></div></footer></main></body><script src=https://vovando.dev/js/navbutton.js></script></html>