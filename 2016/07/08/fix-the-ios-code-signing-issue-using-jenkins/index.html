<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Clouds, Virtualization and something more..."><meta name=Author content="Volodymyr Vrublevskyy"><meta name=keywords content="IT Talks"><link rel=stylesheet href=https://vovando.dev/css/syntax.css><link rel=stylesheet href=https://vovando.dev/css/style.css><script src=https://kit.fontawesome.com/1b7478c139.js crossorigin=anonymous></script><title>IT Talks</title></head><body><aside id=sidenav><header><a href=https://vovando.dev/><img src=https://vovando.dev/avatar.png alt=avatar></a>
<a id=branding href=https://vovando.dev/>IT Talks</a></header><nav><a href=/><i class="fas fa-home fa-sm"></i><span>whoami</span></a>
<a href=/posts><i class="fas fa-keyboard fa-ms"></i><span>blog</span></a>
<a href=/tags><i class="fas fa-tags fa-ms"></i><span>tags</span></a>
<a href=https://github.com/vovandodev target=_blank><i class="fab fa-github fa-ms"></i><span>github</span></a>
<a href=/index.xml><i class="fas fa-rss fa-ms"></i><span>RSS</span></a>
<a href=/contact><i class="far fa-envelope"></i><span>contact</span></a></nav></aside><main id=main><a href=javascript:void(0) id=closebtn onclick=navToggle()><i class="fas fa-bars fa-lg"></i></a><div class=content><h1 id=title>Fix the iOS code signing issue using Jenkins</h1><nav id=TableOfContents></nav><p>This week I configure the Jenkins to work with Mac and try to build iOS applications. Unfortunately, I got the code signing issues, either I use Xcode plugin or Xcode command line tool. </p><p>The core reason is Jenkins is running as daemon mode in Mac, just assume it is a different user – &ldquo;Jenkins&rdquo;, so it will not have access to the keychain or provision profile as you log in using your credentials, which cause the code signing issue.</p><p>So we have 2 errors:</p><p><strong>1. &ldquo;Code Sign error: There are no valid certificate/private key pairs in the default keychain&rdquo;</strong><br><strong>Solution:</strong> Copy your iPhone developer certificate from &ldquo;login&rdquo; keychain to &ldquo;System&rdquo; keychain.<br><strong>Detailed steps:</strong><br>  open the &ldquo;Keychain Access&rdquo; application, click the login tab, right-click the certificate like &ldquo;iPhone Developer: your_name (XXXXXXX)&rdquo;, choose copy, then click the &ldquo;System&rdquo; tab, right click mouse, choose &ldquo;Paste 2 items&rdquo;; you might need to do the same thing with the certificate like &ldquo;iPhone Distribution: your_name&rdquo;.</p><p>After doing this, you will get the second error.<br><strong>2. &ldquo;Code Sign error: Provisioning profile &lsquo;xxxxx-xxxx-xxxx-xxxxx&rsquo; can&rsquo;t be found&rdquo;</strong><br><strong>Solution</strong>: Copy the provisioning profile to Jenkins user folder.<br>The provisioning profile is under in the folder<br>/YourUser/Library/MobileDevice/Provisioning Profiles,<br>for example, on my machine, the provision profile files are under /Users/vovando/Library/MobileDevice/Provisioning Profiles<br>In the mac, the Jenkins will be in /Users/Jenkins, create the following folder:<br>/Users/Jenkins/Library/MobileDevice/Provisioning Profile,  then copy the .mobileprovision file to this folder.</p><p>After doing this, the code signing issues will be fixed.</p><div class=nav-next-prev><div class=nav-prev><a href=https://vovando.dev/2016/07/06/xcode-error-while-building-ipa/><i class="fas fa-chevron-left"></i></a></div><a class=nav-top href=#>top</i></a><div class=nav-next><a href=https://vovando.dev/2016/08/09/what-is-the-default-root-pasword-for-mysql-5-7/><i class="fas fa-chevron-right"></i></a></div></div></div><footer><div class=footer-content><div class=contact-info><div class=footer-mail><i class="far fa-envelope"></i><a href=mailto:hello@vovando.dev>hello@vovando.dev</a></div><div class=footer-phone><i class="fas fa-phone"></i>7777</div></div><p class="copyright meta">Copyright © 2013–2020, all rights reserved.</p></div></footer></main></body><script src=https://vovando.dev/js/navbutton.js></script></html>