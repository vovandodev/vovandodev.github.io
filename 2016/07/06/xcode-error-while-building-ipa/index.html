<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Clouds, Virtualization and something more..."><meta name=Author content="Volodymyr Vrublevskyy"><meta name=keywords content="IT Talks"><link rel=stylesheet href=https://vovando.dev/css/syntax.css><link rel=stylesheet href=https://vovando.dev/css/style.css><script src=https://kit.fontawesome.com/1b7478c139.js crossorigin=anonymous></script><title>IT Talks</title></head><body><aside id=sidenav><header><a href=https://vovando.dev/><img src=https://vovando.dev/avatar.png alt=avatar></a>
<a id=branding href=https://vovando.dev/>IT Talks</a></header><nav><a href=/><i class="fas fa-home fa-sm"></i><span>whoami</span></a>
<a href=/posts><i class="fas fa-keyboard fa-ms"></i><span>blog</span></a>
<a href=/tags><i class="fas fa-tags fa-ms"></i><span>tags</span></a>
<a href=https://github.com/vovandodev target=_blank><i class="fab fa-github fa-ms"></i><span>github</span></a>
<a href=/index.xml><i class="fas fa-rss fa-ms"></i><span>RSS</span></a>
<a href=/contact><i class="far fa-envelope"></i><span>contact</span></a></nav></aside><main id=main><a href=javascript:void(0) id=closebtn onclick=navToggle()><i class="fas fa-bars fa-lg"></i></a><div class=content><h1 id=title>Xcode error while building IPA</h1><nav id=TableOfContents><ul><li><a href=#my-solution><strong>My solution:</strong></a></li></ul></nav><p>I tried to build *.IPA file with Xcode 7, Jenkins and its plugin <strong>Xcode integration</strong>. But received error:</p><p>### Codesigning &lsquo;/Users/jenkins/Library/MobileDevice/Provisioning Profiles/&rsquo; with &lsquo;iPhone Developer&rsquo;</p><ul><li>/usr/bin/codesign –force –preserve-metadata=identifier,entitlements,resource-rules –sign iPhone Developer –resource-rules=/var/folders/6x/jsvfjlx97_g95jy3l3hlwh900000gq/T/pUGWucQNqO/Payload/MYAPP.app/ResourceRules.plist /var/folders/6x/jsvfjlx97_g95jy3l3hlwh900000gq/T/pUGWucQNqO/Payload/MYAPP.app<br>Program /usr/bin/codesign returned 1 : [Warning: usage of –preserve-metadata with option &ldquo;resource-rules&rdquo; (deprecated in Mac OS X >= 10.10)!<br>Warning: –resource-rules has been deprecated in Mac OS X >= 10.10!<br>/var/folders/6x/jsvfjlx97_g95jy3l3hlwh900000gq/T/pUGWucQNqO/Payload/MYAPP.app/ResourceRules.plist: cannot read resources<br>]<br>error: /usr/bin/codesign –force –preserve-metadata=identifier,entitlements,resource-rules –sign iPhone Developer –resource-rules=/var/folders/6x/jsvfjlx97_g95jy3l3hlwh900000gq/T/pUGWucQNqO/Payload/MYAPP.app/ResourceRules.plist /var/folders/6x/jsvfjlx97_g95jy3l3hlwh900000gq/T/pUGWucQNqO/Payload/MYAPP.app failed with error 1. Output: Warning: usage of –preserve-metadata with option &ldquo;resource-rules&rdquo; (deprecated in Mac OS X >= 10.10)!<br>Warning: –resource-rules has been deprecated in Mac OS X >= 10.10!<br>/var/folders/6x/jsvfjlx97_g95jy3l3hlwh900000gq/T/pUGWucQNqO/Payload/MYAPP.app/ResourceRules.plist: cannot read resources</li></ul><p>Failed to build /var/jenkins/workspace/iOS-ipa/build/MYAPP.ipa<br>Build step &lsquo;Xcode&rsquo; marked build as failure<br>Finished: FAILURE</p><p> </p><h2 id=my-solution><strong>My solution:</strong></h2><p>The following patch for PackageApplications fixed it for me, I removed resource-rules as it says it&rsquo;s deprecated on 10.10.</p><p> </p><pre><code>&lt;strong&gt;/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin
&lt;/strong&gt;
 % diff PackageApplication PackageApplicationFixed 
155,157c155,156
&lt;     my @codesign_args = (&quot;/usr/bin/codesign&quot;, &quot;--force&quot;, &quot;--preserve-metadata=identifier,entitlements&lt;span style=&quot;color:#FF0000;&quot;&gt;,resource-rules&lt;/span&gt;&quot;,
&lt;                          &quot;--sign&quot;, $opt{sign}&lt;span style=&quot;color:#FF0000;&quot;&gt;,
&lt;                          &quot;--resource-rules=$destApp/ResourceRules.plist&quot;&lt;/span&gt;);
---
&gt;     my @codesign_args = (&quot;/usr/bin/codesign&quot;, &quot;--force&quot;, &quot;--preserve-metadata=identifier,entitlements&quot;,
&gt;                          &quot;--sign&quot;, $opt{sign});
</code></pre><p> </p><p><em>Stay tuned!</em></p><div class=nav-next-prev><div class=nav-prev><a href=https://vovando.dev/2016/07/06/change-and-update-wordpress-urls-in-database/><i class="fas fa-chevron-left"></i></a></div><a class=nav-top href=#>top</i></a><div class=nav-next><a href=https://vovando.dev/2016/07/08/fix-the-ios-code-signing-issue-using-jenkins/><i class="fas fa-chevron-right"></i></a></div></div></div><footer><div class=footer-content><div class=contact-info><div class=footer-mail><i class="far fa-envelope"></i><a href=mailto:hello@vovando.dev>hello@vovando.dev</a></div><div class=footer-phone><i class="fas fa-phone"></i>7777</div></div><p class="copyright meta">Copyright © 2013–2020, all rights reserved.</p></div></footer></main></body><script src=https://vovando.dev/js/navbutton.js></script></html>